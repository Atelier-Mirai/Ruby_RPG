---
title: "Ruby で創る RPG 第五章 開発環境を整える"
emoji: "🍇"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["Ruby", "初心者", "コンピュータ", "計算機科学", "プログラミング"]
published: true
published_at: 2023-12-21 06:00
---

<!-- １２３４５６７８９０１２３４５６７８９-->
<!-- 🍇🍈🍉🍊🍋🍌🍍🥭🍎🍏🍐🍑🍒🍓🫐🫑🥝🍅🫒🥥 -->

# 第五章 開発環境を整える

「お待たせ。コンピュータの基礎も学んだことだし、準備はバッチリね。いよいよプログラミングしていきましょう。みっくんは何を作りたいかしら。」
「う〜んと、ゲームが作りたい。」
「ゲームなのね。どんなゲームがいいの？」
「ロールプレイングゲームなんだ。魔王に攫われたお姫様を助けるんだ！」
「そう。とっても素敵ね。一緒に作っていきましょう。」
「じゃあ、みっくんが快適にプログラミングできるように、開発環境を整えていきましょう。」

## 開発環境の整備

### Rubyのインストール
それではまずMacにRubyをインストールするところから始めていきましょう。Rubyはまつもとゆきひろさんが作った言語なの。読みやすく簡単な気泡で、柔軟性に飛んでいて、とてもパワフルな言語なの。そして無料で使えるのよ。

まず、アプリケーション ＞ ユーティリティ とたどって、その中にあるターミナルアプリを開きましょう。ターミナルアプリを起動したら、[Homebrew](https://brew.sh/ja/) をインストールするわ。[^1]

``` zsh
$ /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/instal
l/HEAD/install.sh)"
```

Homebrew がインストールできたら、rbenv [^2] をインストールしましょう。

``` zsh
$ brew install rbenv
```

最後に `rbenv install 3.3.0` とコマンド入力すると `Ruby` をインストールできます。 [^3]

``` zsh
$ rbenv install 3.3.0
```

次に `brew install rbenv` とコマンド入力すると `rbenv` をインストールできます。 最後に `rbenv install 3.3.0` とコマンド入力すると `Ruby` をインストールできます。 [^3]

[^1]: `Homebrew`は、プログラミングのためのさまざまなツールをインストールできるソフトだよ。

[^2]: `rbenv`は、一台のコンピュータに `Ruby`の複数のバージョンを導入できるソフトだよ。

[^3]: 毎年クリスマスに Ruby の新しいバージョンが登場するの。いろいろ新しい機能も搭載されているし、性能も上がっているわ。最新版がおすすめね。

### エディタ
「プログラミングには、まずエディタと呼ばれるソフトが必要だわ。エディタは編集者という意味の英単語なの。Macにはテキストエディットと言うエディタも標準でインストールされているけれども、やはり専用のものがいいわ。いろいろなエディタがあるけれども、ここでは[Pulsar](https://pulsar-edit.dev) と言うエディタをお勧めするわ。A Community-led Hyper-Hackable Text Editor コミュニティ主導の超高性能文書編集ソフト といった感じかしら。有志の方々が開発されていて、しかも無料で使えるのよ。寄付も歓迎だから、みっくんがたくさんお金を稼げるようになったら、やってみてね。」

### ターミナルの設定
ロールプレイングゲームを作っていくのよね。雰囲気が出るように字体を変えてみましょう。[美咲フォント](https://littlelimit.net/misaki.htm#download)がおすすめよ。美咲ゴシック第2 をインストールすると雰囲気が出るから、インストールしてみてね。

また、次のように入力すると、画面がスッキリするわ。

``` zsh
# プロンプトをすっきり
export PS1=""

# カーソルを非表示に
tput civis

# clear
画面に表示されている文字を消す
```

## Ruby プログラミング

### 20分ではじめるRuby

`Ruby` の公式サイトには、 [20分ではじめるRuby](https://www.ruby-lang.org/ja/documentation/quickstart/) という、`Ruby`によるプログラミングを楽しむための簡単なチュートリアル(導入教材)が用意されているわ。

文字を表示させたり、計算をさせたりするところから始まって、簡単なクラスを作成するところまで紹介されているの。 `Ruby` が初めてのみっくんに最適な内容となっているわ。だから一度見てみるといいわ。

### プログラムの作り方

Rubyによるプログラミングは、次のような感じかしら。

1. エディタでソースコードを書く。
2. 書いたプログラムを実行する。
3. 意図通りに動作するか確認（テスト）する。
4. もし、改善点があれば 1 に戻ってコードを修正（デバッグ）する。
5. 意図通りに動作するものが出来上がったら完成！

1. のエディタは、もう準備したわ。いろいろ使い方に慣れていってね。

2. の書いたプログラムを実行する方法だけれども、とっても簡単なの。

``` zsh
$ ruby rpg.rb
```

と、ターミナルの画面に入力するだけよ。rpg.rb は、みっくんが作ったRPGのファイル名ね。

3. の確認方法だけれど、元のプログラムのことをソースコードというのだけれど、ソースコードを書いて、最初から思った通り動くことは少ないわ。3.の動作確認（テスト）や、4. の不具合の修正（デバッグ）を繰り返して、少しずつ改善、完成させていくことになると思うわ。

括弧`(), {}, []` や `do ~ end`の対応は取れているか、`if`文での条件分岐や、繰り返し条件は適切か、変数名やメソッド名などのタイプミスはないかなどなど、見直すといいわ。それから、ところどころに`pp`文を入れて、変数の値を出力させてみると、プログラムがどのように動いているのか、確かめられるから、不具合が直しやすくなるわ。

それから、長いプログラムを書いてうまく動かないと、不具合の発見や修正も大変だし、気分も滅入るわ。だから短いプログラムを書いて実行して、思った通りの動いていることを確認してから、続きを書くようにすると、一歩ずつ進んでいる達成感が得られて、おすすめよ。

それから、Ruby の作者の まつもとゆきひろさんもいっていることなんだけれど、分かりやすいプログラムのためには、良い名前をつけることも大切よ。 `a` よりは `number` のほうが、どういう意味の変数なのか、名は体を表すっていうけれど、プログラムが読みやすくていいわ。

また、プログラムを書き始める前に、どういう方針で作るのか、紙の上で大まかに手順を考えるのも良いわ。キーボードからの入力を受け取って、こういう繰り返し処理をして、表示したら良さそうだと、見通しを立てて、それぞれの役割を果たす部品、機能を作成していくの。そうすると、スムーズに開発していくことができわ。

もちろん、最初のうちは難しいと思うから、試行錯誤することになると思うけれど、一緒に進めていこうね。

お姫様を助けに行く大冒険だもの。プログラムが自分の書いた通りに動くのはとっても気持ちの良いものだわ。一緒にプログラミング楽しみましょうね。

## タイピングのススメ

あ、それからタイピングの練習をするといいわ。野球選手でもサッカー選手でもみんなかけっこは速いわ。基礎体力が身につくのね。それと一緒でプログラミングするならタイピングは必須よ。

キーボードをよく見てみると、FのキーとJのキーに印があるのがわかるよね。そこに人差し指を置くの。左手の人差し指はFに、右の人差し指はJに置くの。そして他の指もそのまま揃えて置いていってね。この位置をホームポジションというわ。

ホームポジションに指を置いて、そしてFを入力したいときには、左手の差し指だけを動かすようにするの。Jを入力したい時は右の人差し指を動かすのよ。アルファベットのUを入力したい時は、右の人差し指を1つ上に動かして、他の指は全然動かさないでそのままに置いておくのよ。そしてUを入力し終わったら動かした人差し指は元のところ、Jのところに戻ってくるの。

いつも動かすのは1本の指だけ。他の指はそのままにしておくようにするのが、タイピング習得のコツよ。毎日３０分も練習すると、一週間もあれば全部のキーがどこにあるかに覚えられるわ。アルファベット２６文字、ホームポジションと、上の段と下の段だけだもの。簡単よ。

[タイピングクラブ](https://www.typingclub.com/sportal/program-3.game)という、タイピングの練習ができる素敵なサイトもあるわ。毎日コツコツ練習してね。まずはキーボードを見ないでタイプできるようになること。そして一分間に百文字くらいタイプできるといいかしら。

プログラムするのに文字がどこにあるか探すのも探すと、とってもストレスになってしまうし、億劫になるわ。頭の中にあることをスムーズに指が動いて文字にしてくれる。そして画面に表示された文字を見ながら考える。そんな感じね。
